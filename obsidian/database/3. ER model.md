Entity-Realtionship(ER) Model(conceptual data model)

Two main activities : 
- Database design
- Applications design

ER model is focus on **conceptual database** design

抽象在西方不是隨便, 是一個從top-down的角度的表述

###### Design process
從需求端出發, 在設計過程中衡量需求項目與實現難度

經驗主義 -> botton up的設計
理性主義 -> top-down的設計

架構設計通常是理性主義, 比較能夠處理大系統的設計, 但同時錯誤也會被放大(過程需要嚴謹)

需求收集與分析-> functional analysis & conceptual design

functional analysis負責產出high level transcation spec
conceptual design則是負責concetual schema(high-level data model)

設計完成後就可以進行DBMS-specific部分的設計


##### Conceptual design
相關的模型 : 
- Entity Relationship(ER) diagram
- Enhanced Entity Relationshp(EER) diagram
- Unifired Modeling Language(UML) diagram

#### 以Company database為例
這個database會一直跟著我們直到他完成

描述 ： 
company有多個部門, 每個部門都可以有自己的計畫, 相關資料存在dabase中

EMPLOYEE entity will store attributes: 
- security number
- address
- salary
- sex
- birthdate
- supervisor (每個僱員通常都會有直屬上司, )


其他的eneity(table)
DEPENDENT
DEPARTMENT
PROJECT

single attribute -> SSN or Sex
composiute attribute -> 
	address(Apt#, House#, Street, City, State, Zipcode, Country)
	Name(FirstName, Midddle, LastName)
Multi-valued(多個但數量不一定) ->
	previous degrees, colors on a CAR

也有可能是composite跟muti-value混合如學歷 -> 這種被稱為nested attribute


> relation : 不同enetity當他們之間的attribute(一或多個所組成)可以對應到其他entity, 被稱為key

entity set : a collection of entityes

ER model圖: 
！！！！ 請去找圖！！！！

attribute
key attribute
muti-value attribute
entity
weak-entity : 沒有primary key的entity, 改成pratial key(用dependence relation從其他entity關聯進來)
relation

##### relationship
描述不同entity的關係(而非attribute)

relationship set : 集合多個relationship

relationship 雖然看可以做多元, 但大多時候是二元的

箭頭在ER model是沒有的, 因此entity - relation - entity 之間也只有用線段作連結

example : 
- WORKS_FOR -> EMPLOYEE, DEPARTMENT
- MANAGES -> EMPLOYEE, DEPARTMENT
- CONTROLS -> PROJECT, DEPARTMENT
- WORKS_ON -> EMPLOYEE, PROJECT
- SUPERVISION -> EMPLOYEE, EMPLOYEE(recusive relation)
- DEPENDENTS_OF -> EMPLOYEE, DEPENDENT


many to one : WORK_FOR是比較好的例子, 一個DEPARTMENT可以對應到多個EMPLOYEE

entity - relation如果是單線 : 每個entity不一定會有關係(constraine)
entity - relation如果是雙線 :  每個entity一定會有關係


relation to entity可以用(min,max)來表示, 代表參與該關係數量的上下限, 反之對應的就是之前的單雙線結構

n-ary relation : 三(多)方之間有共同關係, supplier -- project -- part 之間使用supply關係起來

一定要轉成二元的解決方法(非必要) ： 把supply變成week entity將三方關聯
一定不想要week entity的方法 ： 為每一筆創鍵人工的key

> conceptual model(ER diagram) 是一個讓需求方與設計方可以共同討論的設計架構





![[tempFileForShare_20250716-095315.jpg]]

INSTRUCTOR不直接跟COURSE關聯(DEPT所提供的), 而是跟SECTION關聯(因為會有不同老師開同一堂課)

新的需求 : 
- 雙主修
- 從既有的增加新的學程
	- 學程可以由多個系所聯合開設(最少要一個)
	- 學生可以去修學程相關的課程, 並登記修習該學程
	- 學程的學分數過門檻後可以拿到學程
- 從(min,max) 改成雙線表示


